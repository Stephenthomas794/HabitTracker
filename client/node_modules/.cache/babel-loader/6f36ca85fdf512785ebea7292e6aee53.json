{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/stephenthomas/Desktop/HabitTrackerReact/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/stephenthomas/Desktop/HabitTrackerReact/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/stephenthomas/Desktop/HabitTrackerReact/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/stephenthomas/Desktop/HabitTrackerReact/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/stephenthomas/Desktop/HabitTrackerReact/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Add from'../Add/Add';import Habit from'../Habit/Habit';import Table from'react-bootstrap/Table';import Button from'react-bootstrap/Button';var LandPage=/*#__PURE__*/function(_Component){_inherits(LandPage,_Component);var _super=_createSuper(LandPage);function LandPage(){var _this;_classCallCheck(this,LandPage);_this=_super.call(this);_this.state={email:undefined,list:[]};_this.setEmail=_this.setEmail.bind(_assertThisInitialized(_this));_this.updateList=_this.updateList.bind(_assertThisInitialized(_this));_this.handleAddTotal=_this.handleAddTotal.bind(_assertThisInitialized(_this));_this.handleGetEntry=_this.handleGetEntry.bind(_assertThisInitialized(_this));_this.handleLoad=_this.handleLoad.bind(_assertThisInitialized(_this));_this.handlePopulate=_this.handlePopulate.bind(_assertThisInitialized(_this));return _this;}_createClass(LandPage,[{key:\"updateList\",value:function updateList(list){this.setState({list:list});}},{key:\"setEmail\",value:function setEmail(newEmail){this.setState({email:newEmail});this.props.setEmail(this.state.email);console.log(\"LandPage\",this.state.email);}//Handle function on Page Load\n},{key:\"componentDidMount\",value:function componentDidMount(){return this.handleLoad();}},{key:\"handleAddTotal\",value:function handleAddTotal(event){this.handleGetEntry(event.target.value);}},{key:\"handleGetEntry\",value:function handleGetEntry(index){var _this2=this;var data={\"email\":this.props.email,\"index\":index};fetch('http://127.0.0.1:5000/api/getEntry',{crossDomain:true,mode:'cors',method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(data){console.log('Success',data);_this2.handleLoad();});}},{key:\"handleLoad\",value:function handleLoad(){var _this3=this;var data={\"email\":this.props.email};fetch('http://127.0.0.1:5000/api/pullHabits',{crossDomain:true,mode:'cors',method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(data){console.log('Success',data);if(data.message!==false){var len=data['nameOfHabit'].length;var size=Object.keys(data['nameOfHabit']).length;var list=[];for(var i=0;i<len;i++){list.push(_this3.handlePopulate(data,i));}_this3.setState({list:list});_this3.forceUpdate();}});}},{key:\"handlePopulate\",value:function handlePopulate(data,i){var _this4=this;return/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,variant:\"dark\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{children:data.nameOfHabit[i]})})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:data.timesPerDay[i]}),/*#__PURE__*/_jsx(\"td\",{children:data.Total[i]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",i:true,value:i,type:\"submit\",onClick:function onClick(event){return _this4.handleAddTotal(event,\"value\");},children:\"Add One\"})})]})})]},i);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"Habit\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"Habit-header\",children:[/*#__PURE__*/_jsx(Add,{email:this.props.email,list:this.state.list,updateList:this.updateList}),/*#__PURE__*/_jsx(Habit,{email:this.props.email,handleLoad:this.handleLoad,list:this.state.list})]})});}}]);return LandPage;}(Component);export default LandPage;","map":{"version":3,"sources":["/Users/stephenthomas/Desktop/HabitTrackerReact/client/src/LandPage/LandPage.js"],"names":["React","Component","Add","Habit","Table","Button","LandPage","state","email","undefined","list","setEmail","bind","updateList","handleAddTotal","handleGetEntry","handleLoad","handlePopulate","setState","newEmail","props","console","log","event","target","value","index","data","fetch","crossDomain","mode","method","headers","body","JSON","stringify","then","response","json","message","len","length","size","Object","keys","i","push","forceUpdate","nameOfHabit","timesPerDay","Total"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Add from '../Add/Add';\nimport Habit from '../Habit/Habit';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\n\nclass LandPage extends Component {\n    constructor() {\n    super();\n    this.state = {\n        email: undefined,       \n        list: []\n    }\n        this.setEmail = this.setEmail.bind(this)\n        this.updateList = this.updateList.bind(this)\n        this.handleAddTotal = this.handleAddTotal.bind(this)\n        this.handleGetEntry = this.handleGetEntry.bind(this)\n        this.handleLoad = this.handleLoad.bind(this)\n        this.handlePopulate = this.handlePopulate.bind(this)\n    }\n    updateList(list){\n        this.setState({\n            list: list\n        })\n    }\n    setEmail(newEmail){\n        this.setState({\n            email:newEmail\n        })\n        this.props.setEmail(this.state.email)\n        console.log(\"LandPage\", this.state.email)\n    }\n\n//Handle function on Page Load\ncomponentDidMount(){\n    return this.handleLoad()\n}\n\nhandleAddTotal(event) {\n    this.handleGetEntry(event.target.value) \n}\n\nhandleGetEntry(index){\n    const data = {\"email\" : this.props.email, \"index\" : index};\n    fetch('http://127.0.0.1:5000/api/getEntry', {\n        crossDomain: true,\n        mode: 'cors',\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },  \n        body: JSON.stringify(data),\n        })  \n        .then(response => response.json())\n        .then(data => {\n        console.log('Success', data);\n        this.handleLoad();\n})\n}\n\n\nhandleLoad() {\n    const data = { \"email\": this.props.email }\n    fetch('http://127.0.0.1:5000/api/pullHabits', {\n        crossDomain: true,\n        mode: 'cors',\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(data),\n        })\n        .then(response => response.json())\n        .then(data => {\n        console.log('Success', data);\n        if (data.message !== false){\n            var len = data.['nameOfHabit'].length;\n            var size = Object.keys(data['nameOfHabit']).length;\n            var list = []\n            for (var i = 0; i < len; i++){\n                list.push(this.handlePopulate(data, i))\n             }   \n            this.setState({\n                list: list\n            })\n            this.forceUpdate();\n            }\n    })\n}\n\n\nhandlePopulate(data, i) {\n    return (\n    <Table striped bordered hover variant=\"dark\" key={i}>\n    <thead>\n        <tr>\n        <th>\n    {data.nameOfHabit[i]}\n     </th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n        <td>\n    {data.timesPerDay[i]}\n    </td>\n        <td>\n    {data.Total[i]}\n    </td>\n        <td>\n        <Button variant=\"primary\"i value={i} type=\"submit\" onClick={event => this.handleAddTotal(event, \"value\")}>\n            Add One\n        </Button>\n        </td>\n        </tr>\n    </tbody>\n    </Table>\n    )\n    }\n\n\n    render() { \n    return (\n    <div className=\"Habit\">\n    <header className=\"Habit-header\">\n        <Add email = {this.props.email} list = { this.state.list } updateList= {this.updateList }/>\n        <Habit email = {this.props.email} handleLoad= { this.handleLoad} list = { this.state.list } /> \n    </header>\n    </div>\n    );\n}\n}\nexport default LandPage;\n"]},"metadata":{},"sourceType":"module"}