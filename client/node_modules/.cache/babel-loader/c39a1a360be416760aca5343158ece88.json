{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/stephenthomas/Desktop/HabitTrackerReact/client/src/Auth/Auth.js\";\nimport React, { Component } from 'react';\nimport './Auth.css';\nimport GoogleButton from 'react-google-button';\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport { withRouter } from 'react-router-dom'; // refresh token\n//import { refreshTokenSetup } from '../utils/refreshToken';\n\nconst CLIENT_ID = '931153056282-750tm4j5ehreopjf5db02huk0v4gg3ac.apps.googleusercontent.com';\n\nclass Auth extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogined: false,\n      email: undefined\n    };\n    this.login = this.login.bind(this);\n    this.handleLoginFailure = this.handleLoginFailure.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleLogoutFailure = this.handleLogoutFailure.bind(this);\n  }\n\n  login(response) {\n    if (response.accessToken) {\n      this.setState(state => ({\n        isLogined: true,\n        email: response.profileObj.email\n      }));\n    }\n\n    console.log(response.profileObj.email);\n    fetch('http://127.0.0.1:5000/api/signIn', {\n      crossDomain: true,\n      mode: 'cors',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(data => {\n      console.log('Success', data);\n\n      if (data.message === true) {\n        window.alert(\"Failed Creating your account \");\n      } else {\n        this.props.setEmail(this.state.email);\n        this.props.history.push('/email');\n      }\n    });\n  }\n\n  logout(response) {\n    this.setState(state => ({\n      isLogined: false,\n      email: undefined\n    }));\n  }\n\n  handleLoginFailure(response) {\n    alert('Failed to log in');\n  }\n\n  handleLogoutFailure(response) {\n    alert('Failed to log out');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.isLogined ? /*#__PURE__*/_jsxDEV(GoogleLogout, {\n        clientId: CLIENT_ID,\n        buttonText: \"Logout\",\n        onLogoutSuccess: this.logout,\n        onFailure: this.handleLogoutFailure\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(GoogleLogin, {\n        clientId: CLIENT_ID,\n        buttonText: \"Login\",\n        onSuccess: this.login,\n        onFailure: this.handleLoginFailure,\n        cookiePolicy: 'single_host_origin',\n        responseType: \"code,token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 26\n      }, this), this.state.email ? /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Your Email is:  \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 42\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 47\n        }, this), \" \", this.state.email, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 74\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 79\n        }, this), \" Your password is: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 103\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 108\n        }, this), \" google\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 22\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Auth);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/stephenthomas/Desktop/HabitTrackerReact/client/src/Auth/Auth.js"],"names":["React","Component","GoogleButton","GoogleLogin","GoogleLogout","withRouter","CLIENT_ID","Auth","constructor","props","state","isLogined","email","undefined","login","bind","handleLoginFailure","logout","handleLogoutFailure","response","accessToken","setState","profileObj","console","log","fetch","crossDomain","mode","method","headers","body","JSON","stringify","data","then","json","message","window","alert","setEmail","history","push","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './Auth.css';\nimport GoogleButton from 'react-google-button';\n\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\n\nimport { withRouter } from 'react-router-dom';\n\n// refresh token\n//import { refreshTokenSetup } from '../utils/refreshToken';\n\n\n  const CLIENT_ID = '931153056282-750tm4j5ehreopjf5db02huk0v4gg3ac.apps.googleusercontent.com'; \n\nclass Auth extends Component {\n   constructor(props) {\n    super(props);\n\n    this.state = {\n      isLogined: false,\n      email: undefined\n    };\n\n    this.login = this.login.bind(this);\n    this.handleLoginFailure = this.handleLoginFailure.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleLogoutFailure = this.handleLogoutFailure.bind(this);\n  }\n\n  login (response) {\n    if(response.accessToken){\n      this.setState(state => ({\n        isLogined: true,\n        email: response.profileObj.email\n      }));\n    }\n    console.log(response.profileObj.email);\n    \n    fetch('http://127.0.0.1:5000/api/signIn', {\n        crossDomain: true,\n        mode: 'cors',\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(data),\n        })\n        .then(response => response.json())\n        .then(data => {\n        console.log('Success', data);\n        if (data.message === true){ \n            window.alert(\"Failed Creating your account \");\n        } else{\n        this.props.setEmail(this.state.email) \n        this.props.history.push('/email');\n        }\n        })\n  }\n\n  logout (response) {\n    this.setState(state => ({\n      isLogined: false,\n      email: undefined\n    }));\n  }\n\n  handleLoginFailure (response) {\n    alert('Failed to log in')\n  }\n\n  handleLogoutFailure (response) {\n    alert('Failed to log out')\n  }\n\n  render() {\n    return (\n    <div>\n      { this.state.isLogined ?\n        <GoogleLogout\n          clientId={ CLIENT_ID }\n          buttonText='Logout'\n          onLogoutSuccess={ this.logout }\n          onFailure={ this.handleLogoutFailure }\n        >\n        </GoogleLogout>: <GoogleLogin\n          clientId={ CLIENT_ID }\n          buttonText='Login'\n          onSuccess={ this.login }\n          onFailure={ this.handleLoginFailure }\n          cookiePolicy={ 'single_host_origin' }\n          responseType='code,token'\n        />\n      }\n{ this.state.email ? <h5>Your Email is:  <br/><br/> { this.state.email } <br/><br/> Your password is: <br/><br/> google</h5> : null }\n    </div>\n    )\n  }\n}\nexport default withRouter (Auth);\n"]},"metadata":{},"sourceType":"module"}